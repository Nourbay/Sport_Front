
<app-navbar></app-navbar>
<div class="flex">
  <app-sidebar></app-sidebar>
  <div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold text-center mb-6">Your Panier</h1>
    <div *ngIf="!panier" class="text-center text-gray-500">Loading your panier...</div>
    <div *ngIf="panier">
      <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
        <thead>
          <tr class="bg-gray-800 text-white">
            <th class="py-3 px-4 text-left">Product ID</th>
            <th class="py-3 px-4 text-left">Quantity</th>
            <th class="py-3 px-4 text-left">Price</th>
            <th class="py-3 px-4 text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of panier.items" class="border-t">
            <td class="py-3 px-4">{{ item.productId }}</td>
            <td class="py-3 px-4">
              <div class="flex items-center">
                <button (click)="decreaseQuantity(item.productId)" class="bg-red-500 text-white px-2 py-1 rounded-l hover:bg-red-600">-</button>
                <span class="px-3">{{ item.quantity }}</span>
                <button (click)="increaseQuantity(item.productId)" class="bg-green-500 text-white px-2 py-1 rounded-r hover:bg-green-600">+</button>
              </div>
            </td>
            <td class="py-3 px-4">{{ item.prix | currency }}</td>
            <td class="py-3 px-4 text-center">
              <button (click)="removeItemFromPanier(item.productId)" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Remove</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="mt-6 flex justify-between items-center">
        <div class="text-lg font-bold">Total Price: {{ panier.totalPrice | currency }}</div>
        <div>
          <button (click)="generateQRCode()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2">Generate QR Code</button>
          <button (click)="convertToCommande()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Convert to Commande</button>
        </div>
      </div>
    </div>
  </div>
</div>
