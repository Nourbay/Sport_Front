<div class="signup-container">
  <h2 class="signup-title">Create an Account</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="signup-form">
    <!-- First Name -->
    <label for="firstname">First Name</label>
    <input id="firstname" type="text" formControlName="firstname"
           [ngClass]="{ 'invalid': submitted && form.get('firstname')?.invalid }" />
    <div class="error-message" *ngIf="submitted && form.get('firstname')?.invalid">
      First name is required
    </div>

    <!-- Last Name -->
    <label for="lastname">Last Name</label>
    <input id="lastname" type="text" formControlName="lastname"
           [ngClass]="{ 'invalid': submitted && form.get('lastname')?.invalid }" />
    <div class="error-message" *ngIf="submitted && form.get('lastname')?.invalid">
      Last name is required
    </div>

    <!-- Age -->
    <label for="age">Age</label>
    <input id="age" type="number" formControlName="age"
           [ngClass]="{ 'invalid': submitted && form.get('age')?.invalid }" />
    <div class="error-message" *ngIf="submitted && form.get('age')?.invalid">
      Age is required and must be at least 10
    </div>

    <!-- Sexe -->
    <label for="sexe">Sexe</label>
    <select id="sexe" formControlName="sexe"
            [ngClass]="{ 'invalid': submitted && form.get('sexe')?.invalid }">
      <option value="">-- Select --</option>
      <option *ngFor="let s of sexes" [value]="s">{{ s }}</option>
    </select>
    <div class="error-message" *ngIf="submitted && form.get('sexe')?.invalid">
      Sexe is required
    </div>

    <!-- Job -->
    <label for="job">Job</label>
    <select id="job" formControlName="job"
            [ngClass]="{ 'invalid': submitted && form.get('job')?.invalid }">
      <option value="">-- Select --</option>
      <option *ngFor="let j of jobs" [value]="j">{{ j }}</option>
    </select>
    <div class="error-message" *ngIf="submitted && form.get('job')?.invalid">
      Job is required
    </div>

    <!-- Email -->
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email"
           [ngClass]="{ 'invalid': submitted && form.get('email')?.invalid }" />
    <div class="error-message" *ngIf="submitted && form.get('email')?.invalid">
      <span *ngIf="form.get('email')?.errors?.['required']">Email is required</span>
      <span *ngIf="form.get('email')?.errors?.['email']">Invalid email format</span>
    </div>

    <!-- Password -->
    <label for="password">Password</label>
    <input id="password" type="password" formControlName="password"
           [ngClass]="{ 'invalid': submitted && form.get('password')?.invalid }" />
    <div class="error-message" *ngIf="submitted && form.get('password')?.invalid">
      Password is required
    </div>

    <!-- Error box -->
    <div class="error-box" *ngIf="signupError">
      {{ signupError }}
    </div>

    <button type="submit" class="signup-button">Sign Up</button>
  </form>
</div>
